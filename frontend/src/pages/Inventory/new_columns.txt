  const columns: ColumnsType<InventoryDetail> = [
    {
      title: 'Ïπ¥ÌÖåÍ≥†Î¶¨',
      dataIndex: 'category',
      key: 'category',
      width: 100,
      render: (category: string) => {
        const categoryMap: Record<string, string> = {
          'clothing': 'üëï ÏùòÎ•ò',
          'shoes': 'üëü Ïã†Î∞ú',
          'hats': 'üß¢ Î™®Ïûê',
          'socks': 'üß¶ ÏñëÎßê',
          'bags': 'üéí Í∞ÄÎ∞©',
          'accessories': 'üõçÔ∏è Ïû°Ìôî',
          'etc': 'üì¶ Í∏∞ÌÉÄ'
        };
        return categoryMap[category] || category || '-';
      },
    },
    {
      title: 'Î∏åÎûúÎìú',
      dataIndex: 'brand',
      key: 'brand',
      width: 140,
      render: (brandName: string, record) => {
        if (!brandName) return '-';
        const brand = brands.find(b => b.name === brandName);
        return (
          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
            {brand?.icon_url && (
              <img
                src={brand.icon_url}
                alt={brandName}
                style={{ width: 32, height: 32, objectFit: 'contain' }}
                onError={(e) => {
                  (e.target as HTMLImageElement).style.display = 'none';
                }}
              />
            )}
            <span style={{ fontSize: '14px' }}>{brandName}</span>
          </div>
        );
      },
    },
    {
      title: 'ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ',
      key: 'image',
      width: 90,
      render: (_, record) => {
        const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:8001';
        const imagePath = record.brand && record.sku_code
          ? `${apiUrl}/uploads/products/${record.brand}/${record.sku_code}.png`
          : null;

        if (imagePath) {
          return (
            <img
              src={imagePath}
              alt={record.product_name}
              style={{
                width: 60,
                height: 60,
                objectFit: 'cover',
                borderRadius: '4px',
                border: '1px solid #f0f0f0',
                cursor: 'pointer'
              }}
              onClick={() => {
                const modal = document.createElement('div');
                modal.style.cssText = `
                  position: fixed;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  background: rgba(0,0,0,0.8);
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  z-index: 9999;
                  cursor: pointer;
                `;
                modal.onclick = () => modal.remove();

                const img = document.createElement('img');
                img.src = imagePath;
                img.style.cssText = `
                  max-width: 90%;
                  max-height: 90%;
                  object-fit: contain;
                  border-radius: 8px;
                `;

                modal.appendChild(img);
                document.body.appendChild(modal);
              }}
              onError={(e) => {
                (e.target as HTMLImageElement).style.display = 'none';
              }}
            />
          );
        }
        return <span style={{ color: '#ccc' }}>-</span>;
      },
    },
    {
      title: 'ÏÉÅÌíàÏΩîÎìú',
      dataIndex: 'sku_code',
      key: 'sku_code',
      width: 120,
      render: (code: string) => <Tag color="geekblue" style={{ fontSize: '13px' }}>{code || '-'}</Tag>,
    },
    {
      title: 'ÏÉÅÌíàÎ™Ö',
      dataIndex: 'product_name',
      key: 'product_name',
      width: 200,
      render: (name: string) => (
        <span style={{ fontWeight: 500, fontSize: '14px' }}>{name}</span>
      ),
    },
    {
      title: 'Ïû¨Í≥† (ÏÇ¨Ïù¥Ï¶àÎ≥Ñ)',
      key: 'inventory',
      width: 150,
      render: (_, record) => (
        <Tag color={record.quantity > 0 ? 'green' : 'red'} style={{ margin: 0, fontSize: '13px' }}>
          {record.size}: {record.quantity}Í∞ú
        </Tag>
      ),
    },
    {
      title: 'Ï∞ΩÍ≥† ÏúÑÏπò',
      dataIndex: 'location',
      key: 'location',
      width: 120,
      render: (loc: string) => loc || '-',
    },
    {
      title: 'ÏûëÏóÖ',
      key: 'action',
      width: 180,
      fixed: 'right' as 'right',
      render: (_, record) => (
        <Space size="small">
          <Tooltip title="ÏÉÅÏÑ∏/Ïù¥Î†•">
            <Button
              type="link"
              size="small"
              icon={<SearchOutlined />}
              onClick={() => handleViewDetail(record)}
            >
              ÏÉÅÏÑ∏
            </Button>
          </Tooltip>
          {(user?.role === 'admin' || user?.role === 'buyer') && (
            <Tooltip title="Ïû¨Í≥† Ï°∞Ï†ï">
              <Button
                type="link"
                size="small"
                icon={<SwapOutlined />}
                onClick={() => handleAdjustment(record)}
              >
                Ï°∞Ï†ï
              </Button>
            </Tooltip>
          )}
        </Space>
      ),
    },
  ];
